diff --git a/htsn-import.cabal b/htsn-import.cabal
index d470346..f32c3b6 100644
--- a/htsn-import.cabal
+++ b/htsn-import.cabal
@@ -266,2 +266,3 @@ executable htsn-import
     old-locale                  >= 1,
+    time-locale-compat,
     split                       >= 0.2,
@@ -359,2 +360,3 @@ test-suite testsuite
     old-locale                  >= 1,
+    time-locale-compat,
     split                       >= 0.2,
@@ -435,2 +437,3 @@ test-suite shelltests
     old-locale                  >= 1,
+    time-locale-compat,
     split                       >= 0.2,
diff --git a/src/TSN/Parse.hs b/src/TSN/Parse.hs
index 8dbdf1f..3490315 100644
--- a/src/TSN/Parse.hs
+++ b/src/TSN/Parse.hs
@@ -17,3 +17,3 @@ import Data.Time.Clock ( UTCTime )
 import Data.Time.Format ( parseTime )
-import System.Locale ( defaultTimeLocale )
+import Data.Time.Locale.Compat ( defaultTimeLocale )
 import Test.Tasty ( TestTree, testGroup )
diff --git a/src/TSN/Picklers.hs b/src/TSN/Picklers.hs
index 3135d6a..187fd37 100644
--- a/src/TSN/Picklers.hs
+++ b/src/TSN/Picklers.hs
@@ -1,2 +1,3 @@
 {-# LANGUAGE ScopedTypeVariables #-}
+{-# LANGUAGE CPP #-}
 
@@ -31,3 +32,8 @@ import Data.Time.Format ( formatTime, parseTime )
 import Data.Tree.NTree.TypeDefs ( NTree(..) )
-import System.Locale ( TimeLocale( wDays, months ), defaultTimeLocale )
+#if MIN_VERSION_time(1,5,0)
+import Data.Time.Format ( TimeLocale( wDays, months ))
+#else
+import System.Locale ( TimeLocale( wDays, months ))
+#endif
+import Data.Time.Locale.Compat ( defaultTimeLocale )
 import Test.Tasty ( TestTree, testGroup )
