diff --git a/diagrams-lib.cabal b/diagrams-lib.cabal
index 76b629f..0dc07b7 100644
--- a/diagrams-lib.cabal
+++ b/diagrams-lib.cabal
@@ -122,7 +122,7 @@ Library
                        adjunctions >= 4.0 && < 5.0,
                        distributive >=0.2.2 && < 1.0,
                        process >= 1.1 && < 1.3,
-                       fsnotify >= 0.1 && < 0.2,
+                       fsnotify >= 0.2,
                        directory >= 1.2 && < 1.3,
                        unordered-containers >= 0.2 && < 0.2.6,
                        system-filepath >= 0.2 && < 0.5,
diff --git a/src/Diagrams/Backend/CmdLine.hs b/src/Diagrams/Backend/CmdLine.hs
index df2c324..d52d974 100644
--- a/src/Diagrams/Backend/CmdLine.hs
+++ b/src/Diagrams/Backend/CmdLine.hs
@@ -97,7 +97,7 @@ import qualified Data.Text                 as T
 import           Numeric
 
 import           Control.Concurrent        (threadDelay)
-import           Filesystem.Path.CurrentOS (directory, fromText)
+import           Filesystem.Path.CurrentOS (directory, fromText, encodeString)
 import           System.Directory          (canonicalizePath)
 import           System.Environment        (getArgs, getProgName)
 import           System.Exit               (ExitCode (..))
@@ -596,7 +596,7 @@ defaultLoopRender opts = when (opts ^. loop) $ do
     \mgr -> do
       lock <- newIORef False
 
-      _ <- watchDir mgr (directory srcFilePath) (existsEvents (== srcFilePath))
+      _ <- watchDir mgr (encodeString $ directory srcFilePath) (existsEvents (== encodeString srcFilePath))
         $ \ev -> do
           running <- atomicModifyIORef lock ((,) True)
           unless running $ do
